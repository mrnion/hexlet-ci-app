name: work1
#название воркфлоу
on: push
#запуск по событию пуш
jobs:
    build:
      runs-on: ubuntu-latest
#ранер на последнем линуксе
      steps:
        - uses: actions/checkout@v3
#копирование репозитория
        - uses: actions/setup-node@v3
          with: 
            node-version: '16.x'
            cache: npm
        - run: make setup
        - run: make test
        - run: make lint
        - run:
          env:
            secrets.SNYK_TOKEN: 226fcfc8-240a-497c-96e9-d2a215c52f5e 
        - name: Run snyk
          uses: snyk/actions/node@master
          env:
            SNYK_TOKEN: ${{ secrets.SNYK_TOKEN }}
